<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RajuKart - Your E-commerce Destination</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="bg-gray-50">

    <!-- Cart Modal -->
    <div id="cart-modal" class="modal hidden">
        <div class="modal-outer-wrapper">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Your Cart</h2>
                    <button id="close-cart-modal" class="modal-close-btn">✕</button>
                </div>
                <div id="cart-items-list">
                    <!-- Cart items will be dynamically loaded here -->
                    <p id="empty-cart-message">Your cart is empty.</p>
                </div>
                <div id="cart-total-summary" class="cart-total hidden">
                    <strong>Cart Total:</strong> <span id="cart-total-amount">₹0.00</span>
                </div>
                <button id="proceed-to-checkout-btn" class="modal-btn primary-modal-btn hidden">Proceed to Checkout</button>
            </div>
        </div>
    </div>

    <!-- Wishlist Modal -->
    <div id="wishlist-modal" class="modal hidden">
        <div class="modal-outer-wrapper">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Your Wishlist</h2>
                    <button id="close-wishlist-modal" class="modal-close-btn">✕</button>
                </div>
                <div id="wishlist-items-list">
                    <!-- Wishlist items will be dynamically loaded here -->
                    <p id="empty-wishlist-message">Your wishlist is empty.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- My Orders Modal -->
    <div id="my-orders-modal" class="modal hidden">
        <div class="modal-outer-wrapper">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>My Orders</h2>
                    <button id="close-my-orders-modal" class="modal-close-btn">✕</button>
                </div>
                <p id="order-cancellation-status" class="form-error hidden">
                    <!-- Order cancellation status message appears here -->
                </p>
                <div id="orders-list">
                    <!-- Orders will be dynamically loaded here -->
                    <p id="no-orders-message">You have no past orders.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Track Order Modal -->
    <div id="track-order-modal" class="modal hidden">
        <div class="modal-outer-wrapper">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Track Your Order</h2>
                    <button id="close-track-order-modal" class="modal-close-btn">✕</button>
                </div>
                <div class="form-group">
                    <label for="track-order-id-input" class="block">Enter Order ID:</label>
                    <input type="text" id="track-order-id-input" placeholder="e.g., RAJU-1678888888888" required>
                    <span class="form-error" id="error-track-order-id"></span>
                </div>
                <button id="track-order-submit-btn" class="modal-btn primary-modal-btn">Track Order</button>
                <div id="order-tracking-details" class="tracking-details hidden">
                    <h3>Tracking Information</h3>
                    <p><strong>Order ID:</strong> <span id="tracking-order-id"></span></p>
                    <div class="tracking-milestones">
                        <p><strong>Order Placed:</strong> <span id="tracking-placed-date"></span></p>
                        <p><strong>Order Shipped:</strong> <span id="tracking-shipped-date"></span></p>
                        <p><strong>Out for Delivery:</strong> <span id="tracking-delivery-date"></span></p>
                    </div>
                </div>
                <p id="track-order-message" class="form-error"></p>
            </div>
        </div>
    </div>

    <!-- Cancel Order Confirmation Modal -->
    <div id="cancel-order-modal" class="modal hidden">
        <div class="modal-outer-wrapper">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Cancel Order</h2>
                    <button id="close-cancel-order-modal" class="modal-close-btn">✕</button>
                </div>
                <p>Are you sure you want to cancel order <strong id="cancel-order-id-display"></strong>?</p>
                <div class="form-group">
                    <label for="cancel-reason-select" class="block">Reason for cancellation:</label>
                    <select id="cancel-reason-select" required>
                        <option value="">Select a reason</option>
                        <option value="Changed mind">Changed mind</option>
                        <option value="Ordered by mistake">Ordered by mistake</option>
                        <option value="Found better price">Found better price elsewhere</option>
                        <option value="Long delivery time">Delivery time too long</option>
                        <option value="Other">Other</option>
                    </select>
                    <span class="form-error" id="error-cancel-reason"></span>
                </div>
                <button id="confirm-cancel-order-btn" class="modal-btn gray-btn">Confirm Cancellation</button>
                <p id="cancel-confirmation-message" class="order-message hidden"></p>
            </div>
        </div>
    </div>


    <!-- Order Summary / Checkout Modal (now a full-page overlay) -->
    <div id="checkout-modal" class="modal hidden">
        <div class="modal-outer-wrapper">
            <div class="checkout-content">
                <div class="checkout-header">
                    <h2>Complete Your Order</h2>
                    <button id="close-checkout-modal" class="modal-close-btn">✕</button>
                </div>

                <div class="checkout-layout">
                    <!-- Left Column: Order Summary & Payment -->
                    <div class="checkout-column">
                        <h3>Order Summary</h3>
                        <div id="order-summary-details">
                            <!-- Selected product details will be dynamically loaded here -->
                        </div>
                        <div class="order-total">
                            <strong>Total:</strong> <span id="order-total-amount">₹0.00</span>
                        </div>

                        <h3>Payment Method</h3>
                        <div id="payment-methods" class="space-y-2">
                            <label class="payment-option">
                                <input type="radio" name="payment_method" value="COD" required>
                                Cash On Delivery (COD)
                            </label>
                            <label class="payment-option">
                                <input type="radio" name="payment_method" value="UPI">
                                UPI Payment
                            </label>
                            <label class="payment-option">
                                <input type="radio" name="payment_method" value="Card">
                                Credit/Debit Card
                            </label>
                            <label class="payment-option">
                                <input type="radio" name="payment_method" value="NetBanking">
                                Net Banking
                            </label>
                        </div>
                        <p class="form-error" id="payment-error-message"></p>

                        <button id="place-order-button" class="modal-btn turquoise-btn" disabled>Place Your Order</button>
                    </div>

                    <!-- Right Column: Delivery Address -->
                    <div class="checkout-column">
                        <h3>Delivery Address</h3>
                        <form id="delivery-address-form">
                            <div class="form-group">
                                <label for="delivery-fullname" class="block">Full Name</label>
                                <input type="text" id="delivery-fullname" placeholder="Full Name" required>
                                <span class="form-error" id="error-fullname"></span>
                            </div>
                            <div class="form-group">
                                <label for="delivery-phone" class="block">Phone Number</label>
                                <input type="tel" id="delivery-phone" placeholder="Phone Number (10 digits)" pattern="[0-9]{10}" required>
                                <span class="form-error" id="error-phone"></span>
                            </div>
                            <div class="form-group">
                                <label for="delivery-address1" class="block">Address Line 1</label>
                                <input type="text" id="delivery-address1" placeholder="Address Line 1" required>
                                <span class="form-error" id="error-address1"></span>
                            </div>
                            <div class="form-group">
                                <label for="delivery-address2" class="block">Address Line 2 (Optional)</label>
                                <input type="text" id="delivery-address2" placeholder="Address Line 2">
                                <span class="form-error" id="error-address2"></span>
                            </div>
                            <div class="form-group">
                                <label for="delivery-city" class="block">City</label>
                                <input type="text" id="delivery-city" placeholder="City" required>
                                <span class="form-error" id="error-city"></span>
                            </div>
                            <div class="form-group">
                                <label for="delivery-state" class="block">State</label>
                                <input type="text" id="delivery-state" placeholder="State" required>
                                <span class="form-error" id="error-state"></span>
                            </div>
                            <div class="form-group">
                                <label for="delivery-pincode" class="block">Pincode</label>
                                <input type="text" id="delivery-pincode" placeholder="Pincode (6 digits)" pattern="[0-9]{6}" required>
                                <span class="form-error" id="error-pincode"></span>
                            </div>
                        </form>
                    </div>
                </div>

                <div id="order-confirmation-message" class="order-message hidden">
                    <h3>Your order has been placed!</h3>
                    <p>Order ID: <span id="confirmed-order-id"></span></p>
                    <p>Thank you for shopping with RajuKart!</p>
                    <button id="back-to-home-button" class="modal-btn primary-modal-btn">Back to Home</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Site Content Starts Here -->
    <header>
        <div class="header-top">
            <h1>RajuKart</h1>
            <div class="search-bar">
                <input type="text" placeholder="Search for products...">
                <button>Search</button>
            </div>
            <div class="header-icons">
                <div class="icon-item">
                    <span class="icon">&#x2764;</span>
                    <span class="icon-text">Wishlist</span>
                </div>
                <div class="icon-item" id="cart-icon-header">
                    <span class="icon">&#x1F6D2;</span>
                    <span class="icon-text">Cart</span>
                    <span class="cart-count" id="cart-count">0</span>
                </div>
                <div class="icon-item" id="track-order-icon-header">
                    <span class="icon">&#x1F69B;</span>
                    <span class="icon-text">Track Order</span>
                </div>
                <div class="icon-item profile-dropdown-container">
                    <span class="icon">&#x1F464;</span>
                    <span class="icon-text" id="profile-text">Profile</span>
                    <div class="profile-dropdown-content">
                        <a href="#" id="my-orders-link-header">My Orders</a>
                        <a href="#" id="signout-link">Sign Out</a>
                    </div>
                </div>
            </div>
        </div>

        <nav class="categories-nav">
            <a href="#" data-category="all">All Products</a>
            <a href="#" data-category="Electronics">Electronics</a>
            <a href="#" data-category="Apparel">Apparel</a>
            <a href="#" data-category="Books & Stationery">Books & Stationery</a>
            <a href="#" data-category="Health & Wellness">Health & Wellness</a>
            <a href="#" data-category="Homeware">Homeware</a>
            <a href="#" data-category="Beauty & Personal Care">Beauty & Personal Care</a>
            <a href="#" data-category="Toys & Games">Toys & Games</a>
        </nav>
    </header>

    <main>
        <!-- Offer Advertisements Carousel -->
        <section class="offer-carousel">
            <div class="carousel-track" id="carousel-track"></div>
            <div class="carousel-indicators" id="carousel-indicators"></div>
        </section>

        <!-- Featured Products Section -->
        <section class="featured-products-section">
            <h2>Featured Products</h2>
            <div class="product-grid" id="featured-product-list"></div>
        </section>

        <!-- All Products Section -->
        <section class="all-products-section">
            <h2>Browse All Products</h2>
            <div class="product-grid" id="all-product-list"></div>
        </section>

        <!-- User Status Bar -->
        <div id="user-status"></div>
    </main>

    <footer>
        <p>&copy; 2024 RajuKart. All rights reserved.</p>
    </footer>

    <script type="module" src="/scripts/main.js"></script>
</body>
</html>
